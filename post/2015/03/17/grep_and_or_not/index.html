<!DOCTYPE html>
<html class="no-js">
<head>
  <base href="http://blog.ywheel.com/">
  <script>
    document._writeOriginal = document.write;
    document.write = function(str) {
        if (str.indexOf('livereload.js') > -1) {
            document._writeOriginal(str);
        } else {
            document._writeOriginal('<!-- Be Hijack!! -->');
        }
    }
  </script>
  <title>Grep命令的与或非 - 轮子们</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="keywords" content="leetcode,">
<meta name="description" content="leetcode">
<meta name="author" content="ywheel">
<meta name="publisher" content="ywheel">
<meta name="generator" content="http://gohugo.io/"/>

<meta itemprop="name" content="Grep命令的与或非 - 轮子们">
<meta itemprop="description" content="leetcode">
<meta itemprop="image" content="http://blog.ywheel.com/public/ywheel.jpg">

<meta property="og:title" content="Grep命令的与或非 - 轮子们" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://blog.ywheel.com/post/2015/03/17/grep_and_or_not/" />
<meta property="og:image" content="http://blog.ywheel.com/public/ywheel.jpg" />
<meta property="og:description" content="leetcode">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@ywheel">
<meta name="twitter:title" content="Grep命令的与或非 - 轮子们">
<meta name="twitter:description" content="leetcode">
<meta name="twitter:creator" content="@ywheel">
<meta name="twitter:image" content="http://blog.ywheel.com/public/ywheel.jpg">

  <script>document.documentElement.className = document.documentElement.className.replace("no-js", "js");</script>
  <link rel="canonical" href="http://blog.ywheel.com/post/2015/03/17/grep_and_or_not/">
  <link rel='shortlink' href="http://blog.ywheel.com/post/2015/03/17/grep_and_or_not/"/>
  <link rel="shortcut icon" href="http://blog.ywheel.com/public/favicon.ico"/>
  
<link rel="stylesheet" id="human-style-css" href="http://blog.ywheel.com/wp-content/themes/hueman/style.css" type="text/css" media="all"/>
<link rel="stylesheet" id="human-style-css2" href="http://blog.ywheel.com/wp-content/themes/hueman-child/style.css" type="text/css" media="all"/>
<link rel="stylesheet" id="responsive-css" href="http://blog.ywheel.com/wp-content/themes/hueman/responsive.css" type="text/css" media="all"/>
<link rel="stylesheet" id="font-awesome-css" href="http://blog.ywheel.com/wp-content/themes/hueman/fonts/font-awesome.min.css" type="text/css" media="all"/>
<link rel="stylesheet" href="http://blog.ywheel.com/public/highlight/styles/github.css">
<script src="http://blog.ywheel.com/public/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<link rel="stylesheet" id="human-style-css3" href="http://blog.ywheel.com/wp-content/themes/hueman-child/user.css" type="text/css" media="all"/>
<link rel="stylesheet" href="public/font/hack/css/hack.min.css">

<script type="text/javascript" src="assets/js/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="wp-content/themes/hueman/js/jquery.jplayer.min.js"></script>
<script type="text/javascript" src="wp-content/themes/hueman/js/scripts.js"></script>
<script type="text/javascript" src="assets/picturefill/picturefill.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.matchHeight-min.js"></script>
<script type="text/javascript" async defer src="assets/js/myblog.js"></script>

</head>

<body class="single single-post single-format-standard col-3cm full-width topbar-enabled chrome">
<div id="wrapper">
  <header id="header">

  <nav class="nav-container group" id="nav-topbar">
    <div class="nav-toggle"><i class="fa fa-bars"></i></div>
    <div class="nav-text"></div>
    <div class="nav-wrap container">
      <a rel="nofollow" href="http://blog.ywheel.com/" class="nav-cs-icon">
        <img width="40" height="40" src="http://blog.ywheel.com/public/ywheel.jpg" alt="ywheel" title="Home">
      </a>
      <ul id="menu-default-menu" class="nav container-inner group">
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="http://blog.ywheel.com/">首页</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="http://blog.ywheel.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="http://blog.ywheel.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/">技术文章</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="http://blog.ywheel.com/categories/%E6%80%9D%E8%80%83%E6%84%9F%E6%82%9F/">思考感悟</a>
        </li>
        
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="http://blog.ywheel.com/post/">归档</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="http://blog.ywheel.com/about/">关于我</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="http://blog.ywheel.com/feed.xml" type="application/rss+xml" target="_blank">订阅</a>
        </li>
      </ul>
    </div>

    <div class="container">
      <div class="container-inner">
        <div class="toggle-search"><i class="fa fa-search"></i></div>
        <div class="search-expand">
          <div class="search-expand-inner">
            <form method="get" class="searchform themeform" action="https://www.google.com/search">
              <div>
                <input type="text" class="search" name="q" placeholder="Press enter to start searching">
              </div>
            </form>
          </div>
        </div>
      </div>
      
    </div>
    

  </nav>
  

  <div class="container group">
    <div class="container-inner">

      <div class="group pad">

        <div class="group pad">
          <h1 class="site-title">
            <a rel="nofollow" href="http://blog.ywheel.com/" rel="home">
              <img style="border-radius: 50%;width:72px;height:72px;margin:0 auto;vertical-align: middle;" alt="ywheel" src="http://blog.ywheel.com/public/ywheel.jpg"></img>
              <span style="padding-top: 5px;">轮子们</span>
            </a>
            
          </h1>
          <p class="site-description"> 勿忘初心，技术无止，做一名文艺的程序员 </p>
        </div>

      </div>
    </div>
    
  </div>
  

</header>



  <div class="container" id="page">
    <div class="container-inner">
      <div class="main">
        <div class="main-inner group">
          <section class="content">
            <div class="page-title pad group">
              <ul class="meta-single group">
                
                <li class="category">
                  <a href="http://blog.ywheel.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/" rel="category tag">技术文章</a>
                </li>
                
              </ul>
            </div>

            <div class="pad group">

              <article
                  class="post type-post status-publish format-standard has-post-thumbnail hentry category-australien tag-bondi-beach tag-city2surf tag-sydney">
                <div class="post-inner group">

                  <h1 class="post-title">Grep命令的与或非</h1>

                  <p class="post-byline">
                    by  · 2015年03月17日 · 852 Words ·
                    ~2min reading time |
                    <a href="https://github.com/ywheel/my-blog/blob/master/content/post/2015/03/17/grep_and_or_not.md"
                       target="_blank">Improve on <i class="fa fa-github"></i></a>
                  </p>

                  <div class="clear"></div>

                  <div class="entry">
                    <div class="entry-inner">
                      
                      

<pre><code>原文标题：
7 Linux Grep OR, Grep AND, Grep NOT Operator Examples
原文地址：
http://www.thegeekstuff.com/2011/10/grep-or-and-not-operators/
</code></pre>

<p>Question: Can you explain how to use OR, AND and NOT operators in Unix grep command with some examples?</p>

<p>Answer: In grep, we have options equivalent to OR and NOT operators. There is no grep AND opearator. But, you can simulate AND using patterns. The examples mentioned below will help you to understand how to use OR, AND and NOT in Linux grep command.</p>

<p>The following employee.txt file is used in the following examples.</p>

<pre><code>$ cat employee.txt
100  Thomas  Manager    Sales       $5,000
200  Jason   Developer  Technology  $5,500
300  Raj     Sysadmin   Technology  $7,000
400  Nisha   Manager    Marketing   $9,500
500  Randy   Manager    Sales       $6,000
</code></pre>

<p>You already knew that grep is extremely powerful based on these <a href="http://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/">grep command examples</a>.</p>

<h3 id="grep-or-operator">Grep OR Operator</h3>

<p>Use any one of the following 4 methods for grep OR. I prefer method number 3 mentioned below for grep OR operator.</p>

<ol>
<li>Grep OR Using |</li>
</ol>

<p>If you use the grep command without any option, you need to use | to separate multiple patterns for the or condition.</p>

<pre><code>grep 'pattern1\|pattern2' filename
</code></pre>

<p>For example, grep either Tech or Sales from the employee.txt file. Without the back slash in front of the pipe, the following will not work.</p>

<pre><code>$ grep 'Tech\|Sales' employee.txt
100  Thomas  Manager    Sales       $5,000
200  Jason   Developer  Technology  $5,500
300  Raj     Sysadmin   Technology  $7,000
500  Randy   Manager    Sales       $6,000
</code></pre>

<ol>
<li>Grep OR Using -E</li>
</ol>

<p>grep -E option is for extended regexp. If you use the grep command with -E option, you just need to use | to separate multiple patterns for the or condition.</p>

<pre><code>grep -E 'pattern1|pattern2' filename
</code></pre>

<p>For example, grep either Tech or Sales from the employee.txt file. Just use the | to separate multiple OR patterns.</p>

<pre><code>$ grep -E 'Tech|Sales' employee.txt
100  Thomas  Manager    Sales       $5,000
200  Jason   Developer  Technology  $5,500
300  Raj     Sysadmin   Technology  $7,000
500  Randy   Manager    Sales       $6,000
</code></pre>

<ol>
<li>Grep OR Using egrep</li>
</ol>

<p>egrep is exactly same as ‘grep -E’. So, use egrep (without any option) and separate multiple patterns for the or condition.</p>

<pre><code>egrep 'pattern1|pattern2' filename
</code></pre>

<p>For example, grep either Tech or Sales from the employee.txt file. Just use the | to separate multiple OR patterns.</p>

<pre><code>$ egrep 'Tech|Sales' employee.txt
100  Thomas  Manager    Sales       $5,000
200  Jason   Developer  Technology  $5,500
300  Raj     Sysadmin   Technology  $7,000
500  Randy   Manager    Sales       $6,000
</code></pre>

<ol>
<li>Grep OR Using grep -e</li>
</ol>

<p>Using grep -e option you can pass only one parameter. Use multiple -e option in a single command to use multiple patterns for the or condition.</p>

<pre><code>grep -e pattern1 -e pattern2 filename
</code></pre>

<p>For example, grep either Tech or Sales from the employee.txt file. Use multiple -e option with grep for the multiple OR patterns.</p>

<pre><code>$ grep -e Tech -e Sales employee.txt
100  Thomas  Manager    Sales       $5,000
200  Jason   Developer  Technology  $5,500
300  Raj     Sysadmin   Technology  $7,000
500  Randy   Manager    Sales       $6,000
</code></pre>

<h3 id="grep-and">Grep AND</h3>

<ol>
<li>Grep AND using -E ‘pattern1.*pattern2′</li>
</ol>

<p>There is no AND operator in grep. But, you can simulate AND using grep -E option.</p>

<pre><code>grep -E 'pattern1.*pattern2' filename
grep -E 'pattern1.*pattern2|pattern2.*pattern1' filename
</code></pre>

<p>The following example will grep all the lines that contain both “Dev” and “Tech” in it (in the same order).</p>

<pre><code>$ grep -E 'Dev.*Tech' employee.txt
200  Jason   Developer  Technology  $5,500
</code></pre>

<p>The following example will grep all the lines that contain both “Manager” and “Sales” in it (in any order).</p>

<pre><code>$ grep -E 'Manager.*Sales|Sales.*Manager' employee.txt
</code></pre>

<p>Note: Using <a href="http://www.thegeekstuff.com/2011/01/advanced-regular-expressions-in-grep-command-with-10-examples-%E2%80%93-part-ii/">regular expressions in grep</a> is very powerful if you know how to use it effectively.</p>

<ol>
<li>Grep AND using Multiple grep command</li>
</ol>

<p>You can also use multiple grep command separated by pipe to simulate AND scenario.</p>

<pre><code>grep -E 'pattern1' filename | grep -E 'pattern2'
</code></pre>

<p>The following example will grep all the lines that contain both “Manager” and “Sales” in the same line.</p>

<pre><code>$ grep Manager employee.txt | grep Sales
100  Thomas  Manager    Sales       $5,000
500  Randy   Manager    Sales       $6,000
</code></pre>

<h3 id="grep-not">Grep NOT</h3>

<ol>
<li>Grep NOT using grep -v</li>
</ol>

<p>Using grep -v you can simulate the NOT conditions. -v option is for invert match. i.e It matches all the lines except the given pattern.</p>

<pre><code>grep -v 'pattern1' filename
</code></pre>

<p>For example, display all the lines except those that contains the keyword “Sales”.</p>

<pre><code>$ grep -v Sales employee.txt
200  Jason   Developer  Technology  $5,500
300  Raj     Sysadmin   Technology  $7,000
400  Nisha   Manager    Marketing   $9,500
</code></pre>

<p>You can also combine NOT with other operator to get some powerful combinations.</p>

<p>For example, the following will display either Manager or Developer (bot ignore Sales).</p>

<pre><code>$ egrep 'Manager|Developer' employee.txt | grep -v Sales
200  Jason   Developer  Technology  $5,500
400  Nisha   Manager    Marketing   $9,500
</code></pre>

<h3 id="总结">总结</h3>

<p>总结起来就是：</p>

<pre><code>OR: \|, -E， -e, egrep
AND: -E, grep | grep
NOT: -v
</code></pre>

                      
                    </div>
                    <div style="border: 1px dashed #e0e0e0; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
                        <div style="float:left;margin-top:6px;">
                        <img src="http://blog.ywheel.com/public/ywheel.jpg" width="100px" height="100px"/>
                        </div>
                        <div style="margin-left:110px;">
                            <p style="margin-top:0px;">作者：<a target="_blank" href="http://ywheel.github.io/">ywheel</a>
                            <br />本文出处：<a target="_blank" href="http://blog.ywheel.com/post/2015/03/17/grep_and_or_not/">http://blog.ywheel.com/post/2015/03/17/grep_and_or_not/</a>
                            <br />
                            文章版权归本人所有，欢迎转载，但必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。 </p>
                        </div>
                    </div>
                    <div class="clear"></div>
                  </div>
                  

                </div>
                
              </article>
              
              <div class="clear"></div>
              
              
              <section id="comments" class="themeform">
<div class="ds-thread" data-thread-key="/post/2015/03/17/grep_and_or_not/" data-title="Grep命令的与或非" data-url="http://blog.ywheel.com/post/2015/03/17/grep_and_or_not/"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"ywheel"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>
</section>
            </div>
          </section>
          <div class="sidebar s1">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="fa icon-sidebar-toggle"></i></a>
  <div class="sidebar-content">
    <div class="sidebar-top group">
      <p>Follow:</p>
      <ul class="social-links">
    <li>
    <a class="social-tooltip" title="On WeiBo"
        href="http://weibo.com/ywheel" target="_blank">
        <i class="fa fa-weibo"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On LinkedIn"
        href="https://cn.linkedin.com/in/yuanlun" target="_blank">
        <i class="fa fa-linkedin"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On GitHub"
        href="https://github.com/ywheel" target="_blank">
        <i class="fa fa-github"></i>
    </a>
    </li>
</ul>

    </div>
    <div class="widget qrcode">
    <img src="http://blog.ywheel.com/public/qrcode.jpg" alt="qrcode" width="172px" height="172px"/>
    <p> 微信扫一扫：<br/> 关注我的公众号： <br /> 轮子们 <br /></p>
</div>

    <ul class="post-nav group">
      <li class="next">
        
        <a href="http://blog.ywheel.com/post/2015/03/17/leetcode_119/" rel="next">
          <i class="fa fa-chevron-right"></i>
          <strong>Next post</strong>
          <span>LeetCode 119 Pascal&#39;s Triangle II</span>
        </a>
        
      </li>
      <li class="previous">
        
        <a href="http://blog.ywheel.com/about/" rel="prev">
          <i class="fa fa-chevron-left"></i>
          <strong>Previous Post</strong>
          <span>关于我</span>
        </a>
        
      </li>
    </ul>
    <div id="search-2" class="widget widget_search"><h3>Search</h3>
      <form method="get" class="searchform themeform" action="https://www.google.com/search">
        <div>
          <input type="text" class="search" name="q" placeholder="Press enter to start searching">
        </div>
      </form>
    </div>
  </div>
  
</div>

          <div class="sidebar s2">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="fa icon-sidebar-toggle"></i></a>
  <div class="sidebar-content">
    <div class="sidebar-top group">
      <p>More</p>
    </div>
    <div id="categories-2" class="widget widget_categories"><h3>Categories</h3>
      <ul>
        
          <li class="cat-item cat-item-1">
            <a rel="nofollow" href="http://blog.ywheel.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a>
          </li>
        
          <li class="cat-item cat-item-1">
            <a rel="nofollow" href="http://blog.ywheel.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/">技术文章</a>
          </li>
        
          <li class="cat-item cat-item-1">
            <a rel="nofollow" href="http://blog.ywheel.com/categories/%E6%80%9D%E8%80%83%E6%84%9F%E6%82%9F/">思考感悟</a>
          </li>
        
      </ul>
    </div>
  </div>
</div>

        </div>
      </div>
    </div>
  </div>
  <footer id="footer">
  <section class="container" id="footer-bottom">
    <div class="container-inner">
      <a id="back-to-top" href="#"><i class="fa fa-angle-up"></i></a>
      <div class="pad group">
        <div class="grid one-half">
          <div id="copyright">
            <p>Copyright © 2016. All Rights Reserved. <br>Powered by
              <a rel="nofollow" href="http://gohugo.io/" target="_blank">Hugo </a>.
              <a rel="nofollow" href="http://golang.org" target="_blank">#golang</a>.
              Theme By  
              <a rel="nofollow" href="https://github.com/coderzh/hugo-rapid-theme" target="_blank">hugo-rapid-theme</a>.
              Hosted By 
              <a rel="nofollow" href="https://pages.github.com/" target="_blank">Github Pages</a>.
            </p>
          </div>
          
        </div>
        
        <div class="grid one-half last">
          <ul class="social-links">
    <li>
    <a class="social-tooltip" title="On WeiBo"
        href="http://weibo.com/ywheel" target="_blank">
        <i class="fa fa-weibo"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On LinkedIn"
        href="https://cn.linkedin.com/in/yuanlun" target="_blank">
        <i class="fa fa-linkedin"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On GitHub"
        href="https://github.com/ywheel" target="_blank">
        <i class="fa fa-github"></i>
    </a>
    </li>
</ul>

        </div>
      </div>

    </div>
    
  </section>
  
</footer>

</div>


<script>
  var host = window.location.host;
  if（host.endsWith('com') {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-78569384-1', 'auto');
    ga('send', 'pageview');
  }
</script>

<script>
  var host = window.location.host;
  if（host.endsWith('com') {
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?60a53337b38af8ec5a97214ec5c7325b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
  } else {
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b57fe7e440d3ae8ddcd0d555dc63a5b9";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
  }
</script>

</body>
</html>

